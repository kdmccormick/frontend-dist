# nginx configuration file for serving edX microfrontends.
server {
	root /var/www/html;
	server_name _;

	location / {
		index index.html;	
	}


    location ~ ^/(?<frontend>[A-Za-z0-9_-]+).*$ {
        # Try to serve specific file.
        # If it doesn't exist, internally redirect to index.html,
        # which will let React handle the routing.
        try_files $uri $frontend/index.html;
    }

    #location ~ ^/(?<frontend>[A-Za-z0-9_-]+).*/(?<path>.*)/?$ {
    #    # Try to serve specific file.
    #    # If it doesn't exist, internally redirect to index.html,
    #    # which will let React handle the routing.
    #    try_files $frontend/$path $frontend/index.html;
    #}
}
